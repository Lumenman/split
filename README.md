# Split PGM into segments

Этот проект предоставляет инструменты для разделения PGM-изображений на сегменты (дорожки). Он связан с другим [проектом](http://zenpho.co.uk/paper.shtml), который позволяет "распечатать" звук на бумагу в форме оптической звуковой дорожки, состоящей из ряда сегментов на листе бумаги А4.

## Функциональность

Для разделения исходного изображения на сегменты, которые затем могут быть преобразованы в звук внешней программой (см. ссылку выше), можно использовать программы, реализованные в `split.c`.

### `split v1`

* Находит границы дорожек по левому краю исходного изображения.
* Определяет количество дорожек и их среднюю ширину.
* Обрезает пустые поля сверху и снизу изображения.
* Обрезает дорожки по найденному левому краю.
* **Ограничение:** Этот алгоритм не "следит" за левым краем вдоль всей дорожки. При наклоне или кривизне исходного скана это может привести к обрезке полезной части звуковой волны.

### `split v2`

* Работает похожим на `v1` образом для начального обнаружения.
* **Улучшение:** "Следит" за левым краем каждой дорожки по всей ее длине и динамически "выравнивает" его при копировании.
* Копирует в новые файлы-сегменты только саму звуковую волну (все, что находится справа от найденного и выровненного края).

## Разработка

Программы (`split.c`) были написаны с помощью ИИ Gemini на основе описанной мной логики и алгоритмов. Было решено отказаться от сложных алгоритмов компьютерного зрения (детального поиска краев, линий, фигур) в пользу более простого и прямолинейного подхода, достаточного для данной задачи.
